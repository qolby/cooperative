---
import { getCollection } from "astro:content";
import Layout from "../../layouts/Layout.astro";

export async function getStaticPaths() {
    const newsEntries = await getCollection("news");
    return newsEntries.map((entry) => ({
        params: { slug: entry.slug },
        props: { entry },
    }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={entry.data.title}>
    <article class="py-16 md:py-20 lg:py-24">
        <div class="max-w-3xl mx-auto px-4 md:px-6">
            <a
                href="/news"
                class="inline-flex items-center gap-1 px-5 py-2.5 rounded-full border-2 border-[var(--color-primary-green)] text-[var(--color-primary-green)] font-medium mb-8 hover:bg-[var(--color-primary-green)] hover:text-white transition-all duration-200"
            >
                ‚Üê Kembali ke Berita
            </a>

            <div
                class="bg-white rounded-xl p-8 md:p-12 shadow-md border border-black/[0.03]"
            >
                <span class="text-sm text-slate-500 block mb-2">
                    {
                        new Date(entry.data.date).toLocaleDateString("id-ID", {
                            year: "numeric",
                            month: "long",
                            day: "numeric",
                        })
                    }
                </span>
                <h1
                    class="text-2xl md:text-3xl lg:text-4xl font-bold text-[var(--color-text-dark)] mb-6"
                >
                    {entry.data.title}
                </h1>
                <div
                    class="h-56 md:h-72 bg-slate-200 rounded-xl flex items-center justify-center text-slate-500 font-medium mb-8"
                >
                    Foto Utama
                </div>

                <div
                    class="prose prose-lg max-w-none text-[var(--color-text-grey)] leading-relaxed"
                >
                    <Content />
                </div>
            </div>
        </div>
    </article>
</Layout>
